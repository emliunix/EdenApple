\documentclass[type=bachelor]{thuthesis}
\usepackage{thuthesis}
\usepackage[section,newfloat=true]{minted}
\usepackage{hypcap}
\usepackage{etoolbox}
\usepackage{setspace}

% fix minted fontsize and linespacing
\AtBeginEnvironment{minted}{\singlespacing%
  \fontsize{10}{10}\selectfont}
% add frame
\setminted{frame=lines,framesep=2mm}
% code env to support page break
\newenvironment{code}{\captionsetup{type=listing}}{}

% 中文字体设置
\setCJKmainfont{Noto Serif CJK SC}[AutoFakeSlant=true]
\setCJKsansfont{Noto Sans CJK SC}[AutoFakeSlant=true]
\setCJKmonofont{Noto Sans Mono CJK SC}[AutoFakeSlant=true]

\graphicspath{{figures/}}

\ctexset{
  chapter = {
    name = {},
    number = \arabic{chapter}
  }
}

\geometry{margin=25mm}

\begin{document}

\frontmatter
\input{cover}
\makecover

\mainmatter
%% page style
\fancypagestyle{hubu@thesis}{%
  \fancyhead[R]{\xiaowu\textsl{湖北大学本科毕业论文（设计）}}
  \fancyfoot[C]{\xiaowu\thepage}
  \renewcommand{\headrulewidth}{0pt}
  \renewcommand{\footrulewidth}{0pt}}
\pagestyle{hubu@thesis}

\xiaosi
\include{ch01-intro}
\include{ch02-lang-features}
\include{ch03-interp}
\include{ch04-monadic-parser}
\include{ch05-the-vm}
\include{ch06-conclusion}

\backmatter

\bibliographystyle{thuthesis}
\bibliography{ref}

%% 致谢
\include{acknowledgement}

% 翻译
%\include{tran}

\end{document}
